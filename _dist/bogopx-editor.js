!function(){var e={123:function(){},371:function(){}},t={};function o(n){var a=t[n];if(void 0!==a)return a.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,o),s.exports}!function(){"use strict";class e{constructor(e,t){this.url=e||"",this.headers={"Content-Type":"application/json",...t}}async get(e){try{const t=await fetch(this.url+e,{method:"GET",headers:this.headers});return t.ok?t.json():Promise.reject(await t.json())}catch(e){return console.log(e),Promise.reject(e)}}async getFromSession(e){const t=sessionStorage.getItem(e);if(t&&"undefined"!==t)return JSON.parse(t);try{const t=await this.get(e);return sessionStorage.setItem(e,JSON.stringify(t)),t}catch(e){return Promise.reject(e)}}async getFromLocal(e){const t=localStorage.getItem(e);if(t&&"undefined"!==t)return JSON.parse(t);try{const t=await this.get(e);return localStorage.setItem(e,JSON.stringify(t)),t}catch(e){return Promise.reject(e)}}async post(e,t){let o=null,{headers:n}=this;t instanceof Element?(o=new FormData(t),n={}):o=JSON.stringify(t);try{const t=await fetch(this.url+e,{method:"POST",body:o,headers:n});return t.ok?t.json():Promise.reject(await t.json())}catch(e){return console.log(e),Promise.reject(e)}}async delete(e){try{return await fetch(this.url+e,{method:"DELETE"})}catch(e){return console.log(e),Promise.reject(e)}}}const t={},{nonce:n,root:a}=window.bogoApiSettings;n&&(t["X-WP-Nonce"]=n),new e;const s=new e(a,t);o(123);const{wp:r}=window;r.domReady((function(){const{currentOption:e,options:t,optionsCreate:o}=window.bogoLanguageDropdown,n=`<div class="bogo-dropdown__button" tabindex="0">\n    <i class="flag flag-${e.locale}"></i>\n    <span>${e.label}</span>\n  </div>`;let a="";t.length>=1&&(a+="<li><h6>AVAILABLE LANGUAGES</h6></li>",t.forEach((e=>{const t="draft"===e.status?"<b>DRAFT</b>":"";a+=`<li>\n        <a href="${e.url}">\n          <i class="flag flag-${e.locale}"></i>\n          <span>\n            ${e.label}\n            ${t}\n          </span>\n        </a>\n      </li>`})));let r="";o.length>=1&&(r+="<li><h6>ADD TRANSLATION</h6></li>",o.forEach((e=>{r+=`<li>\n        <a data-route="${e.url}" data-locale="${e.locale}">\n          <i class="flag flag-${e.locale}"></i>\n          <span>\n            ${e.label}\n            <b>DRAFT</b>\n          </span>\n        </a>\n      </li>`})));let l="";window.bogoLanguageDropdown.length>10?l="huge":window.bogoLanguageDropdown.length>5&&(l="large");const i=`<div class="bogo-dropdown">\n    ${n}\n    <div class="bogo-options is-${l}">\n      <ul class="bogo-options__available">\n        ${a}\n      </ul>\n      <ul class="bogo-options__new">\n        ${r}\n      </ul>\n  </div>`;async function c(e){const t=e.currentTarget,o=t.closest("li"),{route:n,locale:a}=t.dataset;o.classList.add("is-loading");let r="";try{r=(await s.post(n))[a].edit_link}catch(e){console.log(e),"bogo_translation_exists"===e.code&&(r=e.data.edit_link)}if(o.classList.remove("is-loading"),r){t.setAttribute("href",r);const e=o.closest(".bogo-options").querySelector(".bogo-options__available");e&&(e.insertAdjacentHTML("beforeend",o.outerHTML),o.remove()),window.open(r,"_blank")}}setTimeout((function(){const e=document.querySelector(".edit-post-header__toolbar");e&&e.insertAdjacentHTML("beforeend",i),e.querySelectorAll(".bogo-options__new a").forEach((e=>{e.addEventListener("click",c)}))}),500)}));var l=window.React;o(371);const{wp:i}=window,{createHigherOrderComponent:c}=i.compose,d=c((e=>t=>{if("core/block"!==t.name)return(0,l.createElement)(e,{...t});if(!window.bogoReusableBlocks)return(0,l.createElement)(e,{...t});const{ref:o}=t.attributes,{localizedBlocks:n,locale:a,localeName:s,indexURL:r,editURL:i}=window.bogoReusableBlocks,c=n[o]||null,d=c?`This block has ${s} translation`:`No ${s} translation found`,u=c?"EDIT »":"CREATE »",g=c?i.replace("$$$",c[a]):r;return console.log({message:d,buttonText:u,buttonLink:g}),(0,l.createElement)(l.Fragment,null,(0,l.createElement)(e,{key:"edit",...t}),(0,l.createElement)("label",{class:"bogopx-reusable-label"},(0,l.createElement)("i",{class:`flag flag-${a}`}),(0,l.createElement)("span",null,d),(0,l.createElement)("a",{href:g,target:"_blank"},u)))}),"addTranslationNotice");i.hooks.addFilter("editor.BlockEdit","bogo-px/add-translation-notice",d)}()}();